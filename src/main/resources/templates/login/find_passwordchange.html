<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>아이디찾기</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.2/css/bootstrap.min.css}"/>
    <script src="webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap-icons/1.11.1/font/bootstrap-icons.css}" />
    <link rel="stylesheet" href="/css/test.css">
    <link rel="stylesheet" href="/js/test.js">

    <link rel="icon" type="image/png" sizes="16x16"  href="images/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
</head>
<body>
<div class="d-flex p-3" style="background-color:rgb(89, 89, 89); color:white;">
    <a href="/" class="ms-2" style="color:white; font-size:16px;">다비다</a>
</div>

<div class="d-flex justify-content-center mt-3">
    <div class="me-5" >
        <a href="/find_id" style="color:rgb(153, 153, 153);font-size:16px;">
            <div id="find"><span style="color:rgb(36, 36, 36);"><i class="bi bi-shield-exclamation"></i>아이디 찾기</span></div>
        </a>
    </div>
    <div class="ms-5">
        <a href="/find_password" style="color:rgb(153, 153, 153); font-size:16px;" >
            <div id="find2"><i class="bi bi-shield-lock"></i>비밀번호 찾기</div>
        </a>
    </div>
</div>
<br>
<br>
<div class="d-flex justify-content-center mt-5">
    <h6 style="color:rgb(36, 36, 36); border-bottom: 1px solid rgb(192, 192, 192); width:50rem;">비밀번호 찾기</h6>
</div>

    <form th:action="@{find_passwordchange}" th:object="${userOptional}"  method="post">
    <div class="d-flex justify-content-center mt-3">
       <div class="border" style="width:30rem;">
           <div class="d-flex flex-column ms-1 mb-3">
               <div class="p-2">비밀번호 변경</div>
               <div class="p-1" style="color:rgb(243, 96, 59);font-size:12px;">
                   <span style="color:rgb(131, 131, 131);font-size:10px;">*</span>다른 아이디/사이트에서 사용한 적 없는 비밀번호
               </div>
               <div class="p-1 mb-5" style="color:rgb(243, 96, 59);font-size:12px;">
                   <span style="color:rgb(131, 131, 131);font-size:10px;">*</span>이전에 사용한 적 없눈 비밀번호<span style="color:rgb(131, 131, 131);font-size:12px;">가 안전합니다.</span>
               </div>

                <div class="offset-1">
                   <input class="form-control "  th:field="*{password}" id="password" type="password"  placeholder="새 비밀번호"  aria-describedby="passwordlHelp" style="font-size:13px;width:24.5rem;">
                    <div id="passwordlHelp" class="p-2 mb-2" style="color:rgb(189, 192, 194); font-size:12px;">(영문 대소문자/숫자/특수문자 중 2가지 이상 조합, 8자~16자)</div>
                   <input class="form-control mb-2" id="password2" type="password" placeholder="새 비밀번호 확인" onblur="confirm();" aria-describedby="passwordlHelp" style="font-size:13px;width:24.5rem;">
                    <div id="passwordHelp" class="form-text" style="color:red;"></div>
                </div>

               <div class="offset-1 mt-5 mb-3">
                   <button type="submit" class="btn btn-link mb-2" style="text-decoration:none;font-size:14px;width:24.5rem;background-color:rgb(253, 158, 64);color:white;">확 인</button>
                   <button type="submit"  class="btn btn-secondary" style="font-size:14px;width:24.5rem;background-color:white;color:black;">취 소</button>

           </div>
       </div>
    </div>
</div>
</form>
</div>

</body>

<script>
        function confirm() {
        const passwordValue = document.getElementById('password').value;
        const password2Value = document.getElementById('password2').value;
        if(passwordValue!==password2Value) {
         document.getElementById('passwordHelp').innerText = '비밀번호가 일치하지 않습니다.';
         password.focus();
          return false;
        } else {
        document.getElementById('passwordHelp').innerText = '';
        passwordHelp.removeClass('passwordHelp')
        return true;
        }

    }
</script>

</html>